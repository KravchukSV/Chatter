<th:block th:fragment="login (path, isRegisterForm)">
  <form th:action="${path}" method="post">
    <div class="form-group row">
      <label class="col-sm-2 col-form-label"> User Name :  </label>
      <div class="col-sm-6">
        <input type="text" name="username" th:value="${user}?${user.username}"
               th:class="'form-control ' + (${usernameError}?'is-invalid':'')"
               placeholder="User name"/>
        <div class="invalid-feedback" th:if="${usernameError}" th:text="${usernameError}"/>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label"> Password: </label>
      <div class="col-sm-6">
        <input type="password" name="password"
               th:class="'form-control ' + (${passwordError}?'is-invalid':'')"
               placeholder="Password"/>
        <div class="invalid-feedback" th:if="${passwordError}" th:text="${passwordError}"/>
      </div>
    </div>
    <div class="form-group row" th:if="${isRegisterForm}">
      <label class="col-sm-2 col-form-label"> Password: </label>
      <div class="col-sm-6">
        <input type="password" name="password2"
               th:class="'form-control ' + (${password2Error}?'is-invalid':'')"
               placeholder="Retype password"/>
        <div class="invalid-feedback" th:if="${password2Error}" th:text="${password2Error}"/>
      </div>
    </div>
    <div class="form-group row" th:if="${isRegisterForm}">
      <label class="col-sm-2 col-form-label"> Email: </label>
      <div class="col-sm-6">
        <input type="email" name="email" th:value="${user}?${user.email}"
               th:class="'form-control ' + (${emailError}?'is-invalid':'')"
               placeholder="some@some.com"/>
        <div class="invalid-feedback" th:if="${emailError}" th:text="${emailError}"/>
      </div>
    </div>
      <a  th:if="!${isRegisterForm}" th:href="@{/registration}">Add new user</a>
    <div th:if="${isRegisterForm}" class="col-sm-6">
      <div class="g-recaptcha" data-sitekey="6LejKKQkAAAAAI78fFwHrwJRuSYqdjw4oEEiG0L3"></div>
      <div th:if="${captchaError}"
           class="alert alert-danger" role="alert"
           th:text="${captchaError}">
      </div>
    </div>
    <button class="btn btn-primary" type="submit" th:text="${isRegisterForm} ? 'Create' : 'Sign In'"></button>
  </form>
</th:block>

<th:block th:fragment="logout">
  <form th:action="@{/logout}" method="post">
    <button class="btn btn-primary" type="submit">Sign Out</button>
  </form>
</th:block>